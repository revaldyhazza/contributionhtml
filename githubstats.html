<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>GitHub Stats - revaldyhazza</title>
  <style>
    body { 
      margin: 0; 
      background: #0d1117; 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .container { 
      padding: 40px 20px; 
      text-align: center; 
      max-width: 900px;
      width: 100%;
    }
    h3 { 
      color: #c9d1d9; 
      font-weight: 600; 
      margin: 30px 0 20px; 
      font-size: 1.5rem;
    }
    .stat-box {
      background: #161b22;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }
    img { 
      max-width: 100%; 
      height: auto;
      border-radius: 8px; 
      display: block;
      margin: 0 auto;
    }
    .loading {
      color: #8b949e;
      font-size: 0.9rem;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="stat-box">
      <h3>ðŸ“Š Contribution Activity</h3>
      <img id="ghchart" alt="GitHub Contribution Chart">
      <div class="loading" id="chart-loading">Loading...</div>
    </div>
    
    <div class="stat-box">
      <h3>ðŸ”¥ Contribution Streak</h3>
      <img id="ghstreak" alt="GitHub Streak">
      <div class="loading" id="streak-loading">Loading...</div>
    </div>
  </div>
  
  <script>
    const USERNAME = 'revaldyhazza'; // Ganti dengan username GitHub kamu
    
    function loadImages() {
      const cacheBuster = Date.now();
      
      const chartImg = document.getElementById('ghchart');
      const streakImg = document.getElementById('ghstreak');
      const chartLoading = document.getElementById('chart-loading');
      const streakLoading = document.getElementById('streak-loading');
      
      // Contribution Chart
      const newChart = new Image();
      newChart.onload = () => {
        chartImg.src = newChart.src;
        chartLoading.style.display = 'none';
      };
      newChart.onerror = () => {
        chartLoading.textContent = 'Failed to load chart';
        chartLoading.style.color = '#f85149';
      };
      newChart.src = `https://ghchart.rshah.org/239a3b/${USERNAME}?cache=${cacheBuster}`;
      
      // Streak Stats
      const newStreak = new Image();
      newStreak.onload = () => {
        streakImg.src = newStreak.src;
        streakLoading.style.display = 'none';
      };
      newStreak.onerror = () => {
        streakLoading.textContent = 'Failed to load streak';
        streakLoading.style.color = '#f85149';
      };
      newStreak.src = `https://streak-stats.demolab.com/?user=${USERNAME}&theme=dark&hide_border=true&background=161b22&stroke=30363d&ring=239a3b&fire=239a3b&currStreakLabel=58a6ff&sideLabels=c9d1d9&dates=8b949e&cache=${cacheBuster}`;
    }
    
    // Load pertama kali
    loadImages();
    
    // Auto-refresh setiap 10 menit (600000 ms)
    setInterval(loadImages, 600000);
    
    // Reload saat tab active lagi
    document.addEventListener('visibilitychange', () => {
      if (!document.hidden) {
        loadImages();
      }
    });
  </script>
</body>
</html>
